functio to do main job
